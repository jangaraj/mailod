getacl - urci ci je mozne pracovat s acl pravami, inak STD
DONE db_request - request na db ci uz je zaznam s danym hasv v db - casove okno
DONE hash - hashuje body cast emailu - nie md5 bo tu je mozne vytvorit kolizie - bezpecnost
get_number_acls - vrati pocet moznych aclie - depend on FS alebo napevno zabetonovat?
setacl - nastavi acl
hidden_private_info - skryje v hlavicke emailu provatne informacie
link email - musi byt locknuty file
DONE test na hodnoty v konfiguracnom subore - tie inty
DONE osetrit stav ked mail ma heade aj divider ale nema body - vyhodi error (invalid pointer) free()
DONE prerobit fprintf(stderr,... na logging(....
DONE prerobit libdbi na nonabsolute cesty (pocitat s tym ze to bude v lib systemu usera) - kontorlovat pri starte demona
DONE kde zistit kde sa bude ukladat email - home(etc/passwd) maildir(conf postfixu)

fcntl - zamky na subor
#include <time.h>       /* time() ctime() time_t */
#include <fcntl.h>      /* fcntl() struct flock O_RDONLY O_WRONLY
		                 /* O_APPEND O_CREAT O_EXCL */
#include <grp.h>        /* getgrgid() struct group */
#include <pwd.h>        /* getpwuid() getpwnam() struct passwd */

ACL:
extattr(3)
extattr(2)
getfacl
setfacl
#include <sys/extattr.h>
#include <libutil.h>
http://acl.bestbits.at/cgi-man/acl.5
http://www.google.com/codesearch?hl=en&q=+lang:c+getfacl+show:BifF4N4GmnI:25wEVj2UXDQ:iZQwbHxwCjI&sa=N&cd=1&ct=rc&cs_p=http://gentoo.osuosl.org/distfiles/freebsd-bin-6.1.tar.bz2&cs_f=bin/getfacl/getfacl.c#a0

problemy, ktore je potrebne riesit
nie je dostupna db - error log -> std
nie su dostupne acl - error log -> std
testovat nad roznymi kodovaniami - large file - nestandardne formaty emailu (bez oddelovaca head body)
osetrit chyby - bounce - logy - STD

Problemy z konzultacii:
1.) select a write to db
co najkratsie az po urceni kde budem ukladat - robit cez transakcie
transakcia - select hash
ak ano end transakcia
inak insert
end transakcia
DONE 2.) demonizacia
DONE riesit cez socket alebo port - fork
3.) 2 demoni chcu naraz urobit hardlink
zamykanie suborov
4.) bezi pod userom POSTMASTER
homy musia mat wx na zapis do maildirov
vlastnikom emailu je POSTMASTER
prvy email sa ulozi prvemu dorucenemu userovi
+ACL pridane pre userov ktorym prisli emaily
pri starte demona skontrolovat prava a ak su nevhodne die
5.) komu ulozit - neriesit aliasy
DONE 6.) IMAP  a zmena nazvu
DONE da asi iba daky priznak na koniec mena - riesim iba v new + cur podla cislao inodu
7.) prepojenie s procmailom(maildoropom)
procmail prida osobitny zaznam do hlavicky
X-xdir: 
podla ktoreho bude matchovat mailod do ktoreho maildiru ma ulozit email
ked tam dany maildir nebude vytovirt novy - ako to robi procmail


